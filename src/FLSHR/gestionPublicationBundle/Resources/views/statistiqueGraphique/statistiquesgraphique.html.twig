{% extends 'GestionPublicationBundle::gestionPublication/base.html.twig' %}
{% block title %}FLSHR Gestion des publications | Statistiques graphique{% endblock %} 
{%block connection %}
<div style="float:right;padding-top:20px">
<ul class="nav">
<li><a href="{{ path('fos_user_security_logout') }}"><span class="icon16 icomoon-icon-exit"></span>Se déconnecter</a></li>
</ul>          
</div>
{% endblock %}

{% block content %}
        <div id="content" class="clearfix">
            <div class="contentwrapper">

<div class="heading">
<h3>Statistiques graphique</h3>                    
</div>
                 <div id="reponse" style="width:75%"></div>
                <div class="row-fluid">
                    <div id="loading" align="center" style="padding-top:10px;height:50px;">
                     <img src="{{ asset('images/loaders/horizontal/053.gif') }}" alt="chargement ...." />
                     </div>
		</div>
                <div class="row-fluid">
<!--  annuel box --> 
                        <div class="span3">

                            <div class="box closed">

                                <div class="title" id="annuel-title">

                                    <h4>
                                        <span class="icon16  icomoon-icon-calendar"></span>
                                        <span>Annuel <input style="margin-top:-3px;margin-left:8px;" id="choix" type="radio" name="choix" value="annuel"/></span>
                                    </h4>
                                    <a href="#" class="minimize" id="minmax">Minimize</a>
                                </div>
                                <div class="content">
               <form id="stats_annuel_graphique">
                <label id="annees-label" for="annees_debut_annuel_graphique">Année de début</label>
                <select name="annees_debut_annuel_graphique" id="annees_debut_annuel_graphique">
                    <option value="2004">2004</option>
                    <option value="2005">2005</option>
                    <option value="2006">2006</option>
                    <option value="2007">2007</option>
                    <option value="2008">2008</option>
                    <option value="2009">2009</option>
                    <option value="2010">2010</option>
                    <option value="2011">2011</option>
                    <option value="2012" selected >2012</option>
                    <option value="2013">2013</option>
                    <option value="2014">2014</option>
                    <option value="2015">2015</option>
                    <option value="2016">2016</option>
                    <option value="2017">2017</option>
                    <option value="2018">2018</option>
                    <option value="2019">2019</option>
                    <option value="2020">2020</option>
                    <option value="2021">2021</option>
                    <option value="2022">2022</option>
                    <option value="2023">2023</option>
                    <option value="2024">2024</option>
                    <option value="2025">2025</option>
                    <option value="2026">2026</option>
                    <option value="2026">2027</option>
                    <option value="2026">2028</option>
                    <option value="2026">2029</option>
                    <option value="2026">2030</option>
                </select><br>
                <label id="mois-label" for="annees_fin_annuel_graphique">Année de fin</label>
                <select name="annees_fin_annuel_graphique" id="annees_fin_annuel_graphique">
                    <option value="2004">2004</option>
                    <option value="2005">2005</option>
                    <option value="2006">2006</option>
                    <option value="2007">2007</option>
                    <option value="2008">2008</option>
                    <option value="2009">2009</option>
                    <option value="2010">2010</option>
                    <option value="2011">2011</option>
                    <option value="2012">2012</option>
                    <option value="2013">2013</option>
                    <option value="2014" selected >2014</option>
                    <option value="2015">2015</option>
                    <option value="2016">2016</option>
                    <option value="2017">2017</option>
                    <option value="2018">2018</option>
                    <option value="2019">2019</option>
                    <option value="2020">2020</option>
                    <option value="2021">2021</option>
                    <option value="2022">2022</option>
                    <option value="2023">2023</option>
                    <option value="2024">2024</option>
                    <option value="2025">2025</option>
                    <option value="2026">2026</option>
                    <option value="2026">2027</option>
                    <option value="2026">2028</option>
                    <option value="2026">2029</option>
                    <option value="2026">2030</option>
                </select>
                 </form>
                                </div>

                            </div>

                        </div>
<!--  mensuel box --> 
                        <div class="span3">

                            <div class="box closed">

                                <div class="title" id="mensuel-title">

                                    <h4>
                                        <span class="icon16 icomoon-icon-calendar"></span>
                                        <span>Mensuel <input style="margin-top:-3px;margin-left:8px;" id="choix" type="radio" name="choix" value="mensuel"/></span>
                                    </h4>
                                    <a href="#" class="minimize" id="minmax">Minimize</a>
                                </div>
                                <div class="content">
                                 <form id="stats_mensuel_graphique">
                <label id="annees-label" for="annees_mensuel_graphique">Sélectionnez une année</label>
                <select name="annees_mensuel_graphique" id="annees_mensuel_graphique">
                    <option value="2004">2004</option>
                    <option value="2005">2005</option>
                    <option value="2006">2006</option>
                    <option value="2007">2007</option>
                    <option value="2008">2008</option>
                    <option value="2009">2009</option>
                    <option value="2010">2010</option>
                    <option value="2011">2011</option>
                    <option value="2012">2012</option>
                    <option value="2013" selected>2013</option>
                    <option value="2014">2014</option>
                    <option value="2015">2015</option>
                    <option value="2016">2016</option>
                    <option value="2017">2017</option>
                    <option value="2018">2018</option>
                    <option value="2019">2019</option>
                    <option value="2020">2020</option>
                    <option value="2021">2021</option>
                    <option value="2022">2022</option>
                    <option value="2023">2023</option>
                    <option value="2024">2024</option>
                    <option value="2025">2025</option>
                    <option value="2026">2026</option>
                    <option value="2026">2027</option>
                    <option value="2026">2028</option>
                    <option value="2026">2029</option>
                    <option value="2026">2030</option>
                </select>
                </form>
                                </div>

                            </div>

                        </div>
<!--  hebdomadaire box --> 
                        <div class="span3">

                            <div class="box closed" >

                                <div class="title" id="hebdomadaire-title">

                                    <h4>
                               <span class="icon16 icomoon-icon-calendar"></span>
                                        <span>Hebdomadaire <input style="margin-top:-3px;margin-left:8px;" id="choix" type="radio" name="choix" value="hebdomadaire" /></span>
                                    </h4>
                                    <a href="#" class="minimize" id="minmax">Minimize</a>
                                </div>
          <div class="content">
               <form id="stats_hebdomadaire_graphique">
                <label id="annees-label" for="annees_hebdomadaire_graphique">Sélectionnez une année</label>
                <select name="annees_hebdomadaire_graphique" id="annees_hebdomadaire_graphique">
                    <option value="2004">2004</option>
                    <option value="2005">2005</option>
                    <option value="2006">2006</option>
                    <option value="2007">2007</option>
                    <option value="2008">2008</option>
                    <option value="2009">2009</option>
                    <option value="2010">2010</option>
                    <option value="2011">2011</option>
                    <option value="2012">2012</option>
                    <option value="2013" selected>2013</option>
                    <option value="2014">2014</option>
                    <option value="2015">2015</option>
                    <option value="2016">2016</option>
                    <option value="2017">2017</option>
                    <option value="2018">2018</option>
                    <option value="2019">2019</option>
                    <option value="2020">2020</option>
                    <option value="2021">2021</option>
                    <option value="2022">2022</option>
                    <option value="2023">2023</option>
                    <option value="2024">2024</option>
                    <option value="2025">2025</option>
                    <option value="2026">2026</option>
                    <option value="2026">2027</option>
                    <option value="2026">2028</option>
                    <option value="2026">2029</option>
                    <option value="2026">2030</option>
                </select><br>
                <label id="mois-label" for="mois_hebdomadaire_graphique">Sélectionnez un mois</label>
                <select name = "mois_hebdomadaire_graphique" id="mois_hebdomadaire_graphique">
                    <option value="01">Janvier</option>
                    <option value="02">Février</option> 
                    <option value="03">Mars</option>
                    <option value="04">Avril</option> 
                    <option value="05">Mai</option>
                    <option value="06" selected>Juin</option> 
                    <option value="07">Juillet</option>
                    <option value="08">Aout</option> 
                    <option value="09">Septembre</option>
                    <option value="10">Octobre</option> 
                    <option value="11">Novembre</option>
                    <option value="12">Décembre</option> 		
                </select>
                 </form>
                                </div>

                            </div>

                        </div>
<!--  quotidien box -->                        
                    <div class="span3">

                            <div class="box">

                                <div class="title" id="quotidien-title">

                                    <h4>
                                <span class="icon16 icomoon-icon-calendar"></span>
                                        <span>Quotidien <input style="margin-top:-3px;margin-left:8px;" id="choix" type="radio" name="choix" checked="checked" value="quotidien"/></span>
                                    </h4>
                                    <a href="#" class="minimize" id="minmax">Minimize</a>
                                </div>
                                <div class="content">
               <form id="stats_quotidien_graphique">
                <label id="annees-label" for="annees_quotidien_graphique">Sélectionnez une année</label>
                <select name="annees_quotidien_graphique" id="annees_quotidien_graphique">
                    <option value="2004">2004</option>
                    <option value="2005">2005</option>
                    <option value="2006">2006</option>
                    <option value="2007">2007</option>
                    <option value="2008">2008</option>
                    <option value="2009">2009</option>
                    <option value="2010">2010</option>
                    <option value="2011">2011</option>
                    <option value="2012">2012</option>
                    <option value="2013" selected>2013</option>
                    <option value="2014">2014</option>
                    <option value="2015">2015</option>
                    <option value="2016">2016</option>
                    <option value="2017">2017</option>
                    <option value="2018">2018</option>
                    <option value="2019">2019</option>
                    <option value="2020">2020</option>
                    <option value="2021">2021</option>
                    <option value="2022">2022</option>
                    <option value="2023">2023</option>
                    <option value="2024">2024</option>
                    <option value="2025">2025</option>
                    <option value="2026">2026</option>
                    <option value="2026">2027</option>
                    <option value="2026">2028</option>
                    <option value="2026">2029</option>
                    <option value="2026">2030</option>
                </select><br>
                <label id="mois-label" for="mois_quotidien_graphique">Sélectionnez un mois</label>
                <select name = "mois_quotidien_graphique" id="mois_quotidien_graphique">
                    <option value="01">Janvier</option>
                    <option value="02">Février</option> 
                    <option value="03">Mars</option>
                    <option value="04">Avril</option> 
                    <option value="05">Mai</option>
                    <option value="06" selected>Juin</option> 
                    <option value="07">Juillet</option>
                    <option value="08">Aout</option> 
                    <option value="09">Septembre</option>
                    <option value="10">Octobre</option> 
                    <option value="11">Novembre</option>
                    <option value="12">Décembre</option> 		
                </select>
                                </div>

                            </div>

                        </div>
                                 
                    </div>
            </div>
        </div>
{% endblock %}
{% block javascripts %}
    <script type="text/javascript" src="{{ asset('js/jquery1.8.3.min.js') }}"></script>
    <script type="text/javascript" src="{{ asset('js/bootstrap/bootstrap.js') }}"></script>  
    <script type="text/javascript" src="{{ asset('js/jquery.cookie.js') }}"></script>
    <script type="text/javascript" src="{{ asset('js/jquery.mousewheel.js') }}"></script>
    <script type="text/javascript" src="{{ asset('plugins/charts/sparkline/jquery.sparkline.min.js') }}"></script>
    <script type="text/javascript" src="{{ asset('plugins/misc/qtip/jquery.qtip.min.js') }}"></script>
    <script type="text/javascript" src="{{ asset('plugins/misc/totop/jquery.ui.totop.min.js') }}"></script> 
    <script type="text/javascript" src="{{ asset('plugins/misc/search/tipuesearch_set.js') }}"></script>
    <script type="text/javascript" src="{{ asset('plugins/misc/search/tipuesearch_data.js') }}"></script>
    <script type="text/javascript" src="{{ asset('plugins/misc/search/tipuesearch.js') }}"></script>
    <script type="text/javascript" src="{{ asset('plugins/fix/ios-fix/ios-orientationchange-fix.js') }}"></script>
    <script type="text/javascript" src="{{ asset('js/jquery1.9.2.min.js') }}"></script>
    <script type="text/javascript" src="{{ asset('plugins/fix/touch-punch/jquery.ui.touch-punch.min.js') }}"></script>
    <script type="text/javascript" src="{{ asset('js/lightbox/jquery.lightbox.min.js') }}"></script>
    <script type="text/javascript" src="{{ asset('js/highcharts.js') }}"></script>
    <script type="text/javascript" src="{{ asset('js/highcharts-more.js') }}"></script>
    <script type="text/javascript" src="{{ asset('js/modules/exporting.js') }}"></script>
    <script type="text/javascript">
             $(document).ready(function() {
     $('#reponse').fadeOut();
     $("#loading").fadeIn();
     $.ajax({type: 'POST',
                url: "{{ path('gestion_publication_submit_stats_quotidien_graphique') }}",
                data: $('#stats_quotidien_graphique').serialize(),
                success: function(data) {
              $("#loading").fadeOut(); 
            eval('var options='+data);
            options.credits={enabled:false};options.tooltip={formatter:function(){return this.x+' : <b>'+this.y+'</b> '+this.series.name;}};
            new Highcharts.Chart(options);
            $("#reponse").fadeIn();
                }});
            });
            $(document).ready(function() {
        //choix
        $('input:radio[name=choix]').click(function() {
        if($('input:radio[name=choix]:checked').val() === "annuel"){ 
         if($('#annuel-title').find('#minmax').hasClass('maximize')) {
            $('#annuel-title').find('.maximize').removeClass('maximize').addClass('minimize');
            $('#annuel-title').next('div.content').slideDown(500, 'easeInExpo');
            } 
         if($('#mensuel-title').find('#minmax').hasClass('minimize')) {
            $('#mensuel-title').find('.minimize').removeClass('minimize').addClass('maximize');
            $('#mensuel-title').next('div.content').slideUp(500, 'easeOutExpo');
            }
         if($('#hebdomadaire-title').find('#minmax').hasClass('minimize')) {
            $('#hebdomadaire-title').find('.minimize').removeClass('minimize').addClass('maximize');
            $('#hebdomadaire-title').next('div.content').slideUp(500, 'easeOutExpo');
            } 
         if($('#quotidien-title').find('#minmax').hasClass('minimize')) {
            $('#quotidien-title').find('.minimize').removeClass('minimize').addClass('maximize');
            $('#quotidien-title').next('div.content').slideUp(500, 'easeOutExpo');
            }
        } 
        if($('input:radio[name=choix]:checked').val() === "mensuel"){ 
         if($('#mensuel-title').find('#minmax').hasClass('maximize')) {
            $('#mensuel-title').find('.maximize').removeClass('maximize').addClass('minimize');
            $('#mensuel-title').next('div.content').slideDown(500, 'easeInExpo');
            } 
         if($('#annuel-title').find('#minmax').hasClass('minimize')) {
            $('#annuel-title').find('.minimize').removeClass('minimize').addClass('maximize');
            $('#annuel-title').next('div.content').slideUp(500, 'easeOutExpo');
            }
         if($('#hebdomadaire-title').find('#minmax').hasClass('minimize')) {
            $('#hebdomadaire-title').find('.minimize').removeClass('minimize').addClass('maximize');
            $('#hebdomadaire-title').next('div.content').slideUp(500, 'easeOutExpo');
            } 
         if($('#quotidien-title').find('#minmax').hasClass('minimize')) {
            $('#quotidien-title').find('.minimize').removeClass('minimize').addClass('maximize');
            $('#quotidien-title').next('div.content').slideUp(500, 'easeOutExpo');
            }
        } 
        if($('input:radio[name=choix]:checked').val() === "hebdomadaire"){ 
        if($('#hebdomadaire-title').find('#minmax').hasClass('maximize')) {
            $('#hebdomadaire-title').find('.maximize').removeClass('maximize').addClass('minimize');
            $('#hebdomadaire-title').next('div.content').slideDown(500, 'easeInExpo');
            } 
         if($('#annuel-title').find('#minmax').hasClass('minimize')) {
            $('#annuel-title').find('.minimize').removeClass('minimize').addClass('maximize');
            $('#annuel-title').next('div.content').slideUp(500, 'easeOutExpo');
            }
         if($('#mensuel-title').find('#minmax').hasClass('minimize')) {
            $('#mensuel-title').find('.minimize').removeClass('minimize').addClass('maximize');
            $('#mensuel-title').next('div.content').slideUp(500, 'easeOutExpo');
            } 
         if($('#quotidien-title').find('#minmax').hasClass('minimize')) {
            $('#quotidien-title').find('.minimize').removeClass('minimize').addClass('maximize');
            $('#quotidien-title').next('div.content').slideUp(500, 'easeOutExpo');
            }
        }
        if($('input:radio[name=choix]:checked').val() === "quotidien"){ 
         if($('#quotidien-title').find('#minmax').hasClass('maximize')) {
            $('#quotidien-title').find('.maximize').removeClass('maximize').addClass('minimize');
            $('#quotidien-title').next('div.content').slideDown(500, 'easeInExpo');
            } 
         if($('#annuel-title').find('#minmax').hasClass('minimize')) {
            $('#annuel-title').find('.minimize').removeClass('minimize').addClass('maximize');
            $('#annuel-title').next('div.content').slideUp(500, 'easeOutExpo');
            }
         if($('#hebdomadaire-title').find('#minmax').hasClass('minimize')) {
            $('#hebdomadaire-title').find('.minimize').removeClass('minimize').addClass('maximize');
            $('#hebdomadaire-title').next('div.content').slideUp(500, 'easeOutExpo');
            } 
         if($('#mensuel-title').find('#minmax').hasClass('minimize')) {
            $('#mensuel-title').find('.minimize').removeClass('minimize').addClass('maximize');
            $('#mensuel-title').next('div.content').slideUp(500, 'easeOutExpo');
            } 
        }

        });
        ////////////////////////////// stats graphique - quotidien form
        $('#annees_quotidien_graphique').change(function() {
             $('#reponse').fadeOut();    
             $("#loading").fadeIn();
            $.ajax({type: 'POST',
                url: "{{ path('gestion_publication_submit_stats_quotidien_graphique') }}",
                data: $('#stats_quotidien_graphique').serialize(),
               success: function(data) {
              $("#loading").fadeOut(); 
            eval('var options='+data);
            options.credits={enabled:false};options.tooltip={formatter:function(){return this.x+' : <b>'+this.y+'</b> '+this.series.name;}};
            new Highcharts.Chart(options);
            $("#reponse").fadeIn();
                }});
        });
        $('#mois_quotidien_graphique').change(function() {
            $('#reponse').fadeOut();
            $("#loading").fadeIn();
            $.ajax({type: 'POST',
                url: "{{ path('gestion_publication_submit_stats_quotidien_graphique') }}",
                data: $('#stats_quotidien_graphique').serialize(),
                success: function(data) {
              $("#loading").fadeOut(); 
            eval('var options='+data);
            options.credits={enabled:false};options.tooltip={formatter:function(){return this.x+' : <b>'+this.y+'</b> '+this.series.name;}};
            new Highcharts.Chart(options);
            $("#reponse").fadeIn();
                }});
        });
        ////////////////////////////// stats graphique - Hebdomadaire form
        $('#annees_hebdomadaire_graphique').change(function() {
             $('#reponse').fadeOut();    
             $("#loading").fadeIn();
            $.ajax({type: 'POST',
                url: "{{ path('gestion_publication_submit_stats_hebdomadaire_graphique') }}",
                data: $('#stats_hebdomadaire_graphique').serialize(),
                success: function(data) {
              $("#loading").fadeOut(); 
            eval('var options='+data);
            options.credits={enabled:false};options.tooltip={formatter:function(){return this.x+' : <b>'+this.y+'</b> '+this.series.name;}};
            new Highcharts.Chart(options);
            $("#reponse").fadeIn();
                }});
        });
        $('#mois_hebdomadaire_graphique').change(function() {
            $('#reponse').fadeOut();
            $("#loading").fadeIn();
            $.ajax({type: 'POST',
                url: "{{ path('gestion_publication_submit_stats_hebdomadaire_graphique') }}",
                data: $('#stats_hebdomadaire_graphique').serialize(),
                success: function(data) {
              $("#loading").fadeOut(); 
            eval('var options='+data);
            options.credits={enabled:false};options.tooltip={formatter:function(){return this.x+' : <b>'+this.y+'</b> '+this.series.name;}};
            new Highcharts.Chart(options);
            $("#reponse").fadeIn();
                }});
        });
////////////////////////////// stats graphique - mensuel form
         $('#annees_mensuel_graphique').change(function() {
             $("#loading").fadeIn();
             $("#reponse").fadeOut();
            $.ajax({type: 'POST',
                url: "{{ path('gestion_publication_submit_stats_mensuel_graphique') }}",
                data: $('#stats_mensuel_graphique').serialize(),
                success: function(data) {
              $("#loading").fadeOut(); 
            eval('var options='+data);
            options.credits={enabled:false};options.tooltip={formatter:function(){return this.x+' : <b>'+this.y+'</b> '+this.series.name;}};
            new Highcharts.Chart(options);
            $("#reponse").fadeIn();
                }});

        });
////////////////////////////// stats graphique - annuel form
         $('#annees_debut_annuel_graphique').change(function() {
             $('#reponse').fadeOut();    
             $("#loading").fadeIn();
            $.ajax({type: 'POST',
                url: "{{ path('gestion_publication_submit_stats_annuel_graphique') }}",
                data: $('#stats_annuel_graphique').serialize(),
                success: function(data) {
              $("#loading").fadeOut(); 
            eval('var options='+data);
            options.credits={enabled:false};options.tooltip={formatter:function(){return this.x+' : <b>'+this.y+'</b> '+this.series.name;}};
            new Highcharts.Chart(options);
            $("#reponse").fadeIn();
                }});

        });
        $('#annees_fin_annuel_graphique').change(function() {
            $('#reponse').fadeOut();
            $("#loading").fadeIn();
            $.ajax({type: 'POST',
                url: "{{ path('gestion_publication_submit_stats_annuel_graphique') }}",
                data: $('#stats_annuel_graphique').serialize(),
                success: function(data) {
              $("#loading").fadeOut(); 
            eval('var options='+data);
            options.credits={enabled:false};options.tooltip={formatter:function(){return this.x+' : <b>'+this.y+'</b> '+this.series.name;}};
            new Highcharts.Chart(options);
            $("#reponse").fadeIn();
                }});
        });
    });
</script>

    <script type="text/javascript" src="{{ asset('js/jquery.sieve.min.js') }}"></script>
    <script type="text/javascript" src="{{ asset('js/main.js') }}"></script>
    <script type="text/javascript" src="{{ asset('js/empty.js') }}"></script>
    {% endblock %}
